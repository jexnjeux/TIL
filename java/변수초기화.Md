# 변수 초기화

## 개념

변수를 선언하고 처음으로 값을 저장하는 것

## 특징

- 멤버변수(클래스변수, 인스턴스변수)는 초기화하지 않아도 자동으로 자료형에 맞는 기본값으로 초기화된다.
- 지역변수는 사용하기 전에 반드시 초기화해야 한다.

## 초기화 방법

- 명시적 초기화
- 초기화 블럭
- [생성자](https://github.com/jexnjeux/TIL/blob/main/java/생성자.md)

## 명시적 초기화

### 개념

변수를 선언과 동시에 초기화하는 것

### 특징

- 대입 연산자(`=`)를 사용한다.
- 가장 기본적이고 간단한 초기화 방법이다.

## 초기화 블럭

### 개념

클래스변수나 인스턴스변수의 복잡한 초기화에 사용

- 클래스 초기화 블럭: 클래스변수의 복잡한 초기화에 사용
- 인스턴스 초기화 블럭: 인스턴스변수의 복잡한 초기화에 사용

> 💡 클래스 초기화 블럭은 클래스가 메모리에 처음 로딩될 떄 한 번만 수행되며, 인스턴스 초기화 블럭은 생성자와 같이 인스턴스가 생성될 때마다 수행된다.

> 💡 생성자보다 인스턴스 초기화 블럭이 먼저 수행된다.

## 멤버변수 초기화 시기와 순서

|             | 클래스변수                                    | 인스턴스변수                                              |
| ----------- | --------------------------------------------- | --------------------------------------------------------- |
| 초기화 시점 | 클래스가 처음 로딩될 떄 한 번                 | 인스턴스가 생성될 때마다                                  |
| 초기화 순서 | 기본값 -> 명시적 초기화 -> 클래스 초기화 블럭 | 기본값 -> 명시적 초기화 -> 인스턴스 초기화 블럭 -> 생성자 |

```java
class InitTest {
  static int cv = 1; // 1, 2
  int iv = 1; // 4, 5

  static { // 3
    cv = 2;
  }

  { // 5
    iv = 2;
  }

  InitTest() { // 7
    iv = 3;
  }
}
```

1. `cv`가 메모리(method area)에 생성되고, `cv`에 int형 기본값인 0이 저장된다.
2. 명시적 초기화에 의해서 `cv`에 1이 저장된다.
3. 클래스 초기화 블럭이 수행되어 `cv`에 2가 저장된다.
4. `InitTest`클래스의 인스턴스가 생성되면서 `iv`가 메모리(heap)에 존재하게 되고, `iv`에 int형 기본값인 0이 저장된다.
5. 명시적 초기화에 의해서 `iv`에 1이 저장된다.
6. 인스턴스 초기화 블럭이 수행되어 `iv`에 2가 저장된다.
7. 생성자가 수행되어 `iv`에 3이 저장된다.

> 💡 **초기화 순서**
>
> cv -> iv
>
> 자동(기본값) -> 간단(`=`) -> 복잡(`static {}` ,`생성자`)

> 💡인스턴스 초기화 블럭은 잘 사용되지 않는다
